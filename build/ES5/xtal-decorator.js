import{XtalDecor}from"./xtal-decor.js";var where_target_selector="where-target-selector";export var XtalDecorator=function(_XtalDecor){babelHelpers.inherits(XtalDecorator,_XtalDecor);function XtalDecorator(){var _this;babelHelpers.classCallCheck(this,XtalDecorator);_this=babelHelpers.possibleConstructorReturn(this,(XtalDecorator.__proto__||Object.getPrototypeOf(XtalDecorator)).apply(this,arguments));_this._host=document;return _this}babelHelpers.createClass(XtalDecorator,[{key:"insertListener",value:function insertListener(e){if(e.animationName===this.id){this.appendTemplates(event.target);this.attachScripts(event.target)}}},{key:"addEventListener",value:function addEventListener(){if(this._boundInsertListener)return;var styleInner="\n        @keyframes ".concat(this.id," {\n            from {\n                opacity: 0.99;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        ").concat(this._whereTargetSelector,"{\n            animation-duration: 0.001s;\n            animation-name: ").concat(this.id,";\n        }\n        "),style=document.createElement("style");style.innerHTML=styleInner;document.body.appendChild(style);this._boundInsertListener=this.insertListener.bind(this);document.addEventListener("animationstart",this._boundInsertListener,!1);document.addEventListener("MSAnimationStart",this._boundInsertListener,!1);document.addEventListener("webkitAnimationStart",this._boundInsertListener,!1)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldVal,newVal){switch(name){case where_target_selector:this._whereTargetSelector=newVal;break;}babelHelpers.get(XtalDecorator.prototype.__proto__||Object.getPrototypeOf(XtalDecorator.prototype),"attributeChangedCallback",this).call(this,name,oldVal,newVal)}},{key:"connectedCallback",value:function connectedCallback(){this._upgradeProperties(["whereTargetSelector"]);babelHelpers.get(XtalDecorator.prototype.__proto__||Object.getPrototypeOf(XtalDecorator.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){if(this._boundInsertListener){document.removeEventListener("animationstart",this._boundInsertListener);document.removeEventListener("MSAnimationStart",this._boundInsertListener);document.removeEventListener("webkitAnimationStart",this._boundInsertListener)}}},{key:"onDecoPropsChange",value:function onDecoPropsChange(){if(!this._whereTargetSelector){babelHelpers.get(XtalDecorator.prototype.__proto__||Object.getPrototypeOf(XtalDecorator.prototype),"onDecoPropsChange",this).call(this);return}if(!this.id){console.error("xtal-decorator requires an id");return}this.addEventListener()}},{key:"whereTargetSelector",get:function get(){return this._whereTargetSelector},set:function set(val){if(this._whereTargetSelector&&this._whereTargetSelector!==val)throw"Only supports one value";this.attr(where_target_selector,val)}}],[{key:"is",get:function get(){return"xtal-decorator"}},{key:"observedAttributes",get:function get(){return babelHelpers.get(XtalDecorator.__proto__||Object.getPrototypeOf(XtalDecorator),"observedAttributes",this).concat([where_target_selector])}}]);return XtalDecorator}(XtalDecor);if(!customElements.get(XtalDecorator.is))customElements.define(XtalDecorator.is,XtalDecorator);