!function(){function define(e){let t=e.is;customElements.get(t)?console.warn("Already registered "+t):customElements.define(t,e)}const spKey="__xtal_deco_onPropsChange";class XtalDeco extends HTMLElement{static get is(){return"xtal-deco"}connectedCallback(){this.style.display="none",this.getElement("_nextSibling",e=>e.nextElementSibling),this.getElement("_script",e=>e.querySelector("script"))}static attachBehavior(e,t){for(const n in t){const s=t[n];switch(n){case"on":for(const t in s){const n=t+"_decoHandler";Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!0,value:s[t]});e.addEventListener(t,e[n])}break;case"props":for(const t in s){const n=s[t];Object.defineProperty(e,t,{get:function(){return this["_"+t]},set:function(e){this["_"+t]=e;const n=new CustomEvent(t+"-changed",{detail:{value:e},bubbles:!0,composed:!1});this.dispatchEvent(n),this[spKey]&&this[spKey](t,e)},enumerable:!0,configurable:!0}),e[t]=n}break;case"setters":for(const t in s){const n=s[t];e[t]=n}break;default:switch(typeof s){case"function":const t="onPropsChange"===n?spKey:n;Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:s});break;case"object":e[n]=s}}}}getElement(e,t){this[e]=t(this),this[e]?this.onDecoPropsChange():setTimeout(()=>{this.getElement(e,t)})}evaluateCode(scriptElement,target){const evalObj=eval(scriptElement.innerHTML);XtalDeco.attachBehavior(target,evalObj);const nS=this._nextSibling,da=nS.getAttribute("disabled");null!==da&&(0===da.length||"1"===da?nS.removeAttribute("disabled"):nS.setAttribute("disabled",(parseInt(da)-1).toString()))}onDecoPropsChange(){this._nextSibling&&this._script&&this.evaluateCode(this._script,this._nextSibling)}}define(XtalDeco)}();